<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>A tutorial for pressure sources in CSI &#8212; CSI 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=62c01f10" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=f78ba3b0" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <script src="../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=e637711f"></script>
    <script src="../_static/copybutton.js?v=56c01ce6"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CSI Publications" href="../CSIpublications.html" />
    <link rel="prev" title="Aseismic slip rate inversion" href="tutoInversionCreep.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="A-tutorial-for-pressure-sources-in-CSI">
<h1>A tutorial for pressure sources in CSI<a class="headerlink" href="#A-tutorial-for-pressure-sources-in-CSI" title="Link to this heading">¶</a></h1>
<p>In this notebook, we show how to model displacements as measured by InSAR and GPS data with pressure sources. This part has been implemented by Tara Shreeve in 2019 and cleaned up by Romain Jolivet in 2024.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Numpy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># CSI</span>
<span class="kn">import</span> <span class="nn">csi.insar</span> <span class="k">as</span> <span class="nn">insar</span>
<span class="kn">import</span> <span class="nn">csi.gps</span> <span class="k">as</span> <span class="nn">gps</span>
<span class="kn">import</span> <span class="nn">csi.Pressure</span> <span class="k">as</span> <span class="nn">pressure</span>
<span class="kn">import</span> <span class="nn">csi.Mogi</span> <span class="k">as</span> <span class="nn">mogi</span>
<span class="kn">import</span> <span class="nn">csi.Yang</span> <span class="k">as</span> <span class="nn">yang</span>
<span class="kn">import</span> <span class="nn">csi.CDM</span> <span class="k">as</span> <span class="nn">cdm</span>
<span class="kn">import</span> <span class="nn">csi.pCDM</span> <span class="k">as</span> <span class="nn">pcdm</span>
<span class="kn">from</span> <span class="nn">csi.csiutils</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Reference</span>
<span class="n">lon0</span><span class="o">=</span><span class="mf">10.0</span>
<span class="n">lat0</span><span class="o">=</span><span class="mf">30.0</span>
</pre></div>
</div>
</div>
<section id="Testing-the-Mogi-source-in-CSI">
<h2>Testing the Mogi source in CSI<a class="headerlink" href="#Testing-the-Mogi-source-in-CSI" title="Link to this heading">¶</a></h2>
<section id="Create-the-source">
<h3>Create the source<a class="headerlink" href="#Create-the-source" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the source</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">mogi</span><span class="p">(</span><span class="s1">&#39;My Mogi source&#39;</span><span class="p">,</span>  <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Make the shape</span>
<span class="c1"># Lon, Lat, Depth, Radius</span>
<span class="c1"># 10°, 30°, 2e3 m, 1000 m</span>
<span class="n">source</span><span class="o">.</span><span class="n">createShape</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">2e3</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="n">latlon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Make a pressure change (Pa)</span>
<span class="n">source</span><span class="o">.</span><span class="n">setPressure</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initializing pressure source My Mogi source
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/romainjolivet/MYBIN/csi/Mogi.py:260: Warning: Results may be inaccurate if depth is not much greater than radius
  warnings.warn(&#39;Results may be inaccurate if depth is not much greater than radius&#39;,Warning)
</pre></div></div>
</div>
</section>
<section id="Create-the-GNSS-network">
<h3>Create the GNSS network<a class="headerlink" href="#Create-the-GNSS-network" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a gps network</span>
<span class="n">gpsNetwork</span> <span class="o">=</span> <span class="n">gps</span><span class="p">(</span><span class="s1">&#39;My GPS network&#39;</span><span class="p">,</span> <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Drop random stations around the source</span>
<span class="c1"># Center of the box (lon, lat), box size in degrees, number of stations</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">createNetwork</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initialize GPS array My GPS network
</pre></div></div>
</div>
</section>
<section id="Create-the-fake-InSAR-data">
<h3>Create the fake InSAR data<a class="headerlink" href="#Create-the-fake-InSAR-data" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create some points where we will have InSAR data</span>
<span class="n">sar</span> <span class="o">=</span> <span class="n">insar</span><span class="p">(</span><span class="s1">&#39;My InSAR network&#39;</span><span class="p">,</span> <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Fake pixel positions</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">9.9</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">29.9</span><span class="p">,</span> <span class="mf">30.1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">lon</span><span class="p">,</span><span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span><span class="n">lat</span><span class="p">)</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">lon</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">lat</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

<span class="c1"># Read data into the InSAR object (make it so that it has the incidence of an ascending track)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">read_from_binary</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">lon</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">incidence</span><span class="o">=</span><span class="mf">40.</span><span class="p">,</span> <span class="n">heading</span><span class="o">=-</span><span class="mf">13.</span><span class="p">)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">nx</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">sar</span><span class="o">.</span><span class="n">ny</span> <span class="o">=</span> <span class="mi">1000</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initialize InSAR data set My InSAR network
</pre></div></div>
</div>
</section>
<section id="Build-Greens'-functions">
<h3>Build Greens’ functions<a class="headerlink" href="#Build-Greens'-functions" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build Green&#39;s functions</span>
<span class="n">source</span><span class="o">.</span><span class="n">buildGFs</span><span class="p">(</span><span class="n">gpsNetwork</span><span class="p">)</span>
<span class="n">source</span><span class="o">.</span><span class="n">buildGFs</span><span class="p">(</span><span class="n">sar</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Greens functions computation method: volume
---------------------------------
---------------------------------
Building pressure source Green&#39;s functions for the data set
My GPS network of type gps in a homogeneous half-space
Converting to pressure for Mogi Green&#39;s function calculations

Greens functions computation method: volume
---------------------------------
---------------------------------
Building pressure source Green&#39;s functions for the data set
My InSAR network of type insar in a homogeneous half-space
Converting to pressure for Mogi Green&#39;s function calculations

</pre></div></div>
</div>
</section>
<section id="Build-synthetic-motion">
<h3>Build synthetic motion<a class="headerlink" href="#Build-synthetic-motion" title="Link to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a synthetic dataset</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">buildsynth</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">buildsynth</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

<span class="c1"># Here, everything is in meters.</span>
<span class="c1"># Let&#39;s convert to cm</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">synth</span> <span class="o">*=</span> <span class="mf">1e2</span>
<span class="n">sar</span><span class="o">.</span><span class="n">synth</span> <span class="o">*=</span> <span class="mf">1e2</span>
</pre></div>
</div>
</div>
</section>
<section id="Show-me">
<h3>Show me<a class="headerlink" href="#Show-me" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a plot</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;synth&#39;</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="mf">2e1</span><span class="p">,</span> <span class="n">legendscale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
                <span class="n">drawCoastlines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verticalsize</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="c1">#verticalnorm=[0, 400],</span>
                <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="n">cbaxis</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="n">cborientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># If you have the SRTM tiles available in the ~/.local/share/cartopy/SRTM directory, you can plot the topography</span>
<span class="c1"># Adding shadedtopo={&#39;source&#39;: &#39;srtm&#39;, &#39;smooth&#39;: 10, &#39;alpha&#39;: 0.1}</span>
<span class="c1"># Otherwise, you can also use the GEBCO dataset</span>
<span class="c1"># Adding shadedtopo={&#39;source&#39;: &#39;gebco&#39;, &#39;smooth&#39;: 10, &#39;alpha&#39;: 0.1}</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_tutoPressureSource_14_0.png" src="../_images/notebooks_tutoPressureSource_14_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you want to show the InSAR</span>
<span class="n">sar</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;synth&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plotType</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
         <span class="n">shadedtopo</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;gebco&#39;</span><span class="p">,</span> <span class="s1">&#39;smooth&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
         <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;LOS motion (cm)&#39;</span><span class="p">,</span> <span class="n">cbaxis</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="n">cborientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Carefull: there is no NaNs, the interpolation might be a whole load of garbage...
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_tutoPressureSource_15_1.png" src="../_images/notebooks_tutoPressureSource_15_1.png" />
</div>
</div>
</section>
</section>
<section id="Testing-the-Yang-source-in-CSI">
<h2>Testing the Yang source in CSI<a class="headerlink" href="#Testing-the-Yang-source-in-CSI" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>Create the source<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the source</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">yang</span><span class="p">(</span><span class="s1">&#39;My Yang source&#39;</span><span class="p">,</span>  <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Make the shape</span>
<span class="c1"># Lon, Lat, Depth, ax, ay, az, dip, strike,</span>
<span class="c1"># 10°, 30°, 2e3 m, 1000 m, 2000m, 4000m, 90.°, 0°</span>
<span class="n">source</span><span class="o">.</span><span class="n">createShape</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">2e3</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">4e3</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">latlon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Make a pressure change (Pa)</span>
<span class="n">source</span><span class="o">.</span><span class="n">setPressure</span><span class="p">(</span><span class="mf">1e6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initializing pressure source My Yang source
Using CDM conventions for rotation - dip = 90 is vertical, rotation clockwise around Y-axis (N-S). dip = 0, strike = 0 source elongated N-S
</pre></div></div>
</div>
</section>
<section id="id2">
<h3>Create the GNSS network<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a gps network</span>
<span class="n">gpsNetwork</span> <span class="o">=</span> <span class="n">gps</span><span class="p">(</span><span class="s1">&#39;My GPS network&#39;</span><span class="p">,</span> <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Drop random stations around the source</span>
<span class="c1"># Center of the box (lon, lat), box size in degrees, number of stations</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">createNetwork</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initialize GPS array My GPS network
</pre></div></div>
</div>
</section>
<section id="id3">
<h3>Create the fake InSAR data<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create some points where we will have InSAR data</span>
<span class="n">sar</span> <span class="o">=</span> <span class="n">insar</span><span class="p">(</span><span class="s1">&#39;My InSAR network&#39;</span><span class="p">,</span> <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Fake pixel positions</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">9.9</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">29.9</span><span class="p">,</span> <span class="mf">30.1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">lon</span><span class="p">,</span><span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span><span class="n">lat</span><span class="p">)</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">lon</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">lat</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

<span class="c1"># Read data into the InSAR object (make it so that it has the incidence of an ascending track)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">read_from_binary</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">lon</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">incidence</span><span class="o">=</span><span class="mf">40.</span><span class="p">,</span> <span class="n">heading</span><span class="o">=-</span><span class="mf">13.</span><span class="p">)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">nx</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">sar</span><span class="o">.</span><span class="n">ny</span> <span class="o">=</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initialize InSAR data set My InSAR network
</pre></div></div>
</div>
</section>
<section id="id4">
<h3>Build Greens’ functions<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build Green&#39;s functions</span>
<span class="n">source</span><span class="o">.</span><span class="n">buildGFs</span><span class="p">(</span><span class="n">gpsNetwork</span><span class="p">)</span>
<span class="n">source</span><span class="o">.</span><span class="n">buildGFs</span><span class="p">(</span><span class="n">sar</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Greens functions computation method: volume
---------------------------------
---------------------------------
Building pressure source Green&#39;s functions for the data set
My GPS network of type gps in a homogeneous half-space
Converting to pressure for Yang Green&#39;s function calculations

Greens functions computation method: volume
---------------------------------
---------------------------------
Building pressure source Green&#39;s functions for the data set
My InSAR network of type insar in a homogeneous half-space
Converting to pressure for Yang Green&#39;s function calculations

</pre></div></div>
</div>
</section>
<section id="id5">
<h3>Build synthetic motion<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a synthetic dataset</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">buildsynth</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">buildsynth</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

<span class="c1"># Here, everything is in meters.</span>
<span class="c1"># Let&#39;s convert to cm</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">synth</span> <span class="o">*=</span> <span class="mf">1e2</span>
<span class="n">sar</span><span class="o">.</span><span class="n">synth</span> <span class="o">*=</span> <span class="mf">1e2</span>
</pre></div>
</div>
</div>
</section>
<section id="id6">
<h3>Show me<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a plot</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;synth&#39;</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="mf">6e1</span><span class="p">,</span> <span class="n">legendscale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
                <span class="n">drawCoastlines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verticalsize</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="c1">#verticalnorm=[0, 400],</span>
                <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="n">cbaxis</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="n">cborientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># If you have the SRTM tiles available in the ~/.local/share/cartopy/SRTM directory, you can plot the topography</span>
<span class="c1"># Adding shadedtopo={&#39;source&#39;: &#39;srtm&#39;, &#39;smooth&#39;: 10, &#39;alpha&#39;: 0.1}</span>
<span class="c1"># Otherwise, you can also use the GEBCO dataset</span>
<span class="c1"># Adding shadedtopo={&#39;source&#39;: &#39;gebco&#39;, &#39;smooth&#39;: 10, &#39;alpha&#39;: 0.1}</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_tutoPressureSource_28_0.png" src="../_images/notebooks_tutoPressureSource_28_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you want to show the InSAR</span>
<span class="n">sar</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;synth&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plotType</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
         <span class="n">shadedtopo</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;gebco&#39;</span><span class="p">,</span> <span class="s1">&#39;smooth&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
         <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;LOS motion (cm)&#39;</span><span class="p">,</span> <span class="n">cbaxis</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="n">cborientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Carefull: there is no NaNs, the interpolation might be a whole load of garbage...
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_tutoPressureSource_29_1.png" src="../_images/notebooks_tutoPressureSource_29_1.png" />
</div>
</div>
</section>
</section>
<section id="Testing-the-CDM-source-in-CSI">
<h2>Testing the CDM source in CSI<a class="headerlink" href="#Testing-the-CDM-source-in-CSI" title="Link to this heading">¶</a></h2>
<p>This is currently not working properly. Work in progress.</p>
<section id="id7">
<h3>Create the source<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize the source</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">cdm</span><span class="p">(</span><span class="s1">&#39;My CDM source&#39;</span><span class="p">,</span>  <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Make the shape</span>
<span class="c1"># Lon, Lat, Depth, ax, ay, az, dip, strike,</span>
<span class="c1"># 10°, 30°, 2e3 m, 1000 m, 2000m, 4000m, 90.°, 0°, 10°</span>
<span class="n">source</span><span class="o">.</span><span class="n">createShape</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">2e3</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">90.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">latlon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Make an opening change (m)</span>
<span class="n">source</span><span class="o">.</span><span class="n">setOpening</span><span class="p">(</span><span class="mf">1e3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initializing pressure source My CDM source
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/romainjolivet/MYBIN/csi/CDM.py:42: FutureWarning: CDM is not yet fully tested as the amplitudes are awkward. Please check the code.
  warnings.warn(&#34;CDM is not yet fully tested as the amplitudes are awkward. Please check the code.&#34;, FutureWarning)
</pre></div></div>
</div>
</section>
<section id="id8">
<h3>Create the GNSS network<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a gps network</span>
<span class="n">gpsNetwork</span> <span class="o">=</span> <span class="n">gps</span><span class="p">(</span><span class="s1">&#39;My GPS network&#39;</span><span class="p">,</span> <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Drop random stations around the source</span>
<span class="c1"># Center of the box (lon, lat), box size in degrees, number of stations</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">createNetwork</span><span class="p">(</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">.1</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initialize GPS array My GPS network
</pre></div></div>
</div>
</section>
<section id="id9">
<h3>Create the fake InSAR data<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create some points where we will have InSAR data</span>
<span class="n">sar</span> <span class="o">=</span> <span class="n">insar</span><span class="p">(</span><span class="s1">&#39;My InSAR network&#39;</span><span class="p">,</span> <span class="n">lon0</span><span class="o">=</span><span class="n">lon0</span><span class="p">,</span> <span class="n">lat0</span><span class="o">=</span><span class="n">lat0</span><span class="p">)</span>

<span class="c1"># Fake pixel positions</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">9.9</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">29.9</span><span class="p">,</span> <span class="mf">30.1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">lon</span><span class="p">,</span><span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span><span class="n">lat</span><span class="p">)</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">lon</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">lat</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

<span class="c1"># Read data into the InSAR object (make it so that it has the incidence of an ascending track)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">read_from_binary</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">lon</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span> <span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">incidence</span><span class="o">=</span><span class="mf">40.</span><span class="p">,</span> <span class="n">heading</span><span class="o">=-</span><span class="mf">13.</span><span class="p">)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">nx</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">sar</span><span class="o">.</span><span class="n">ny</span> <span class="o">=</span> <span class="mi">1000</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
---------------------------------
---------------------------------
Initialize InSAR data set My InSAR network
</pre></div></div>
</div>
</section>
<section id="id10">
<h3>Build Greens’ functions<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build Green&#39;s functions</span>
<span class="n">source</span><span class="o">.</span><span class="n">buildGFs</span><span class="p">(</span><span class="n">gpsNetwork</span><span class="p">)</span>
<span class="n">source</span><span class="o">.</span><span class="n">buildGFs</span><span class="p">(</span><span class="n">sar</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Greens functions computation method: volume
---------------------------------
---------------------------------
Building pressure source Green&#39;s functions for the data set
My GPS network of type gps in a homogeneous half-space

Greens functions computation method: volume
---------------------------------
---------------------------------
Building pressure source Green&#39;s functions for the data set
My InSAR network of type insar in a homogeneous half-space

</pre></div></div>
</div>
</section>
<section id="id11">
<h3>Build synthetic motion<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a synthetic dataset</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">buildsynth</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="n">sar</span><span class="o">.</span><span class="n">buildsynth</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

<span class="c1"># Here, everything is in meters.</span>
<span class="c1"># Let&#39;s convert to cm</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">synth</span> <span class="o">*=</span> <span class="mf">1e2</span>
<span class="n">sar</span><span class="o">.</span><span class="n">synth</span> <span class="o">*=</span> <span class="mf">1e2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Scaling by opening
</pre></div></div>
</div>
</section>
<section id="id12">
<h3>Show me<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a plot</span>
<span class="n">gpsNetwork</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;synth&#39;</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="mf">6e1</span><span class="p">,</span> <span class="n">legendscale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
                <span class="n">drawCoastlines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verticalsize</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="c1">#verticalnorm=[0, 400],</span>
                <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;cm&#39;</span><span class="p">,</span> <span class="n">cbaxis</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="n">cborientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># If you have the SRTM tiles available in the ~/.local/share/cartopy/SRTM directory, you can plot the topography</span>
<span class="c1"># Adding shadedtopo={&#39;source&#39;: &#39;srtm&#39;, &#39;smooth&#39;: 10, &#39;alpha&#39;: 0.1}</span>
<span class="c1"># Otherwise, you can also use the GEBCO dataset</span>
<span class="c1"># Adding shadedtopo={&#39;source&#39;: &#39;gebco&#39;, &#39;smooth&#39;: 10, &#39;alpha&#39;: 0.1}</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_tutoPressureSource_42_0.png" src="../_images/notebooks_tutoPressureSource_42_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you want to show the InSAR</span>
<span class="n">sar</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;synth&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plotType</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
         <span class="n">shadedtopo</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;gebco&#39;</span><span class="p">,</span> <span class="s1">&#39;smooth&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
         <span class="n">cblabel</span><span class="o">=</span><span class="s1">&#39;LOS motion (cm)&#39;</span><span class="p">,</span> <span class="n">cbaxis</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">],</span> <span class="n">cborientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Carefull: there is no NaNs, the interpolation might be a whole load of garbage...
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_tutoPressureSource_43_1.png" src="../_images/notebooks_tutoPressureSource_43_1.png" />
</div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">CSI</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../basictutorials.html">Basic Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CSIpublications.html">CSI Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes.html">Classes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../basictutorials.html">Basic Tutorials</a><ul>
      <li>Previous: <a href="tutoInversionCreep.html" title="previous chapter">Aseismic slip rate inversion</a></li>
      <li>Next: <a href="../CSIpublications.html" title="next chapter">CSI Publications</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Romain Jolivet.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/notebooks/tutoPressureSource.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>