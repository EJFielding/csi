<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pressure class &#8212; CSI 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=62c01f10" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=f78ba3b0" />
    <script src="../_static/documentation_options.js?v=f2a433a1"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=e637711f"></script>
    <script src="../_static/copybutton.js?v=56c01ce6"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pressure-class">
<h1>Pressure class<a class="headerlink" href="#pressure-class" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="csi.Pressure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">csi.</span></span><span class="sig-name descname"><span class="pre">Pressure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utmzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ellps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'WGS84'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.assembleCd">
<span class="sig-name descname"><span class="pre">assembleCd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_prediction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.assembleCd" title="Link to this definition">¶</a></dt>
<dd><p>Assembles the data covariance matrices that have been built for each
data structure.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>datas         : List of data instances or one data instance</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>add_prediction: Precentage of displacement to add to the Cd</dt><dd><p>diagonal to simulate a Cp (dirty version of
a prediction error covariance, see Duputel et
al 2013, GJI).</p>
</dd>
</dl>
</li>
<li><p>verbose       : Talk to me (overwrites self.verbose)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.assembleGFs">
<span class="sig-name descname"><span class="pre">assembleGFs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">computeNormFact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.assembleGFs" title="Link to this definition">¶</a></dt>
<dd><p>Assemble the Green’s functions corresponding to the data in datas.
This method allows to specify which transformation is going
to be estimated in the data sets, through the polys argument.</p>
<p>Assembled Green’s function matrix is stored in self.Gassembled</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>datas<span class="classifier">list of data sets. If only one data set is</span></dt><dd><p>used, can be a data instance only.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul>
<li><p>polys             : None -&gt; nothing additional is estimated</p>
<blockquote>
<div><dl>
<dt>For InSAR, Optical, GPS:</dt><dd><p>1 -&gt; estimate a constant offset
3 -&gt; estimate z = ax + by + c
4 -&gt; estimate z = axy + bx + cy + d</p>
</dd>
<dt>For GPS only:</dt><dd><dl class="simple">
<dt>‘full’                -&gt; Estimates a rotation,</dt><dd><p>translation and scaling
(Helmert transform).</p>
</dd>
<dt>‘strain’              -&gt; Estimates the full strain</dt><dd><p>tensor (Rotation + Translation
+ Internal strain)</p>
</dd>
<dt>‘strainnorotation’    -&gt; Estimates the strain tensor and a</dt><dd><p>translation</p>
</dd>
</dl>
<p>‘strainonly’          -&gt; Estimates the strain tensor
‘strainnotranslation’ -&gt; Estimates the strain tensor and a</p>
<blockquote>
<div><p>rotation</p>
</div></blockquote>
<p>‘translation’         -&gt; Estimates the translation
‘translationrotation  -&gt; Estimates the translation and a</p>
<blockquote>
<div><p>rotation</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>custom<span class="classifier">If True, gets the additional Green’s function</span></dt><dd><p>from the dictionary self.G[data.name][‘custom’]</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>computeNormFact<span class="classifier">bool</span></dt><dd><p>if True, compute new OrbNormalizingFactor
if False, uses parameters in self.OrbNormalizingFactor</p>
</dd>
</dl>
</li>
<li><p>verbose           : Talk to me (overwrites self.verbose)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.assembled">
<span class="sig-name descname"><span class="pre">assembled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.assembled" title="Link to this definition">¶</a></dt>
<dd><p>Assembles a data vector for inversion using the list datas
Assembled vector is stored in self.dassembled</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>datas         : list of data objects</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.buildCm">
<span class="sig-name descname"><span class="pre">buildCm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_Cm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.buildCm" title="Link to this definition">¶</a></dt>
<dd><p>Builds a dummy model covariance matrix using user-defined value.</p>
<p>Model covariance is stored in self.Cm.</p>
<dl class="simple">
<dt>Kwargs:</dt><dd><ul class="simple">
<li><p>extra_params  : a list of extra parameters.</p></li>
<li><p>user_Cm       : user-defined value for the covariance matrix</p></li>
<li><p>verbose       : Talk to me (overwrites self.verrbose)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.buildGFs">
<span class="sig-name descname"><span class="pre">buildGFs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'volume'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slipdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.buildGFs" title="Link to this definition">¶</a></dt>
<dd><p>Builds the Green’s function matrix based on the pressure source.</p>
<p>The Green’s function matrix is stored in a dictionary.
Each entry of the dictionary is named after the corresponding dataset.
Each of these entry is a dictionary that contains ‘volume’ or ‘pressure’</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>data          : Data object (gps, insar, optical, …)</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>vertical<span class="classifier">If True, will produce green’s functions for</span></dt><dd><p>the vertical displacements in a gps object.</p>
</dd>
</dl>
</li>
<li><p>method        : Can be “volume”. Converted to pressure for the case of Mogi and Yang before the calculation</p></li>
<li><p>verbose       : Writes stuff to the screen (overwrites self.verbose)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.chooseSource">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">chooseSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ay</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">az</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plunge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utmzone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ellps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'WGS84'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.chooseSource" title="Link to this definition">¶</a></dt>
<dd><p>Method used to initialize object as CDM or one of its degenerate cases (pCDM, mogi, or yang)</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>x0, y0       : Center of pressure source in lat/lon or utm</p></li>
<li><p>z0           : Depth</p></li>
<li><p>ax, ay, az   : Semi-axes of the CDM along the x, y and z axes respectively, before applying rotations.</p></li>
<li><p>dip          : Clockwise around N-S (Y) axis; dip = 90 means vertical source</p></li>
<li><p>strike       : Clockwise from N; strike = 0 means source is oriented N-S</p></li>
<li><p>plunge       : Clockwise along E-W (X) axis</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.duplicatePressure">
<span class="sig-name descname"><span class="pre">duplicatePressure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.duplicatePressure" title="Link to this definition">¶</a></dt>
<dd><p>Returns a full copy (copy.deepcopy) of the pressure object.</p>
<dl class="simple">
<dt>Return:</dt><dd><ul class="simple">
<li><p>pressure         : pressure object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.emptyGFs">
<span class="sig-name descname"><span class="pre">emptyGFs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slipdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sd'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.emptyGFs" title="Link to this definition">¶</a></dt>
<dd><p>Build zero GFs.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>data          : Data object (gps, insar, optical, …)</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><p>vertical      : If True, will produce green’s functions for the vertical displacements in a gps object.</p></li>
<li><p>slipdir       : Direction of slip along the patches. Can be any combination of s (strikeslip), d (dipslip), t (tensile) and c (coupling)</p></li>
<li><p>verbose       : Writes stuff to the screen (overwrites self.verbose)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>G             : Dictionnary of GFs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.homogeneousGFs">
<span class="sig-name descname"><span class="pre">homogeneousGFs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volumedir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">donotreadpressure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.homogeneousGFs" title="Link to this definition">¶</a></dt>
<dd><p>Builds the Green’s functions for a homogeneous half-space.</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>data          : Data object (gps, insar, optical, …)</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>vertical<span class="classifier">If True, will produce green’s functions for</span></dt><dd><p>the vertical displacements in a gps object.</p>
</dd>
</dl>
</li>
</ul>
<p>–&gt; Needs to be implemented:
* volumedir     : For pCDM, want to solve for volume change in which direction?</p>
<ul class="simple">
<li><p>verbose       : Writes stuff to the screen (overwrites self.verbose)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>G             : Dictionary of the built Green’s functions</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.initializeEmptyPressure">
<span class="sig-name descname"><span class="pre">initializeEmptyPressure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.initializeEmptyPressure" title="Link to this definition">¶</a></dt>
<dd><p>Initializes what is required for a pressure source with no volume change</p>
<p>Returns: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.initializepressure">
<span class="sig-name descname"><span class="pre">initializepressure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.initializepressure" title="Link to this definition">¶</a></dt>
<dd><p>Re-initializes the volume/pressure change.</p>
<dl class="simple">
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.pressure2ll">
<span class="sig-name descname"><span class="pre">pressure2ll</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.pressure2ll" title="Link to this definition">¶</a></dt>
<dd><p>Transpose the initial pressure source position in UTM coordinates into lat/lon.
Lon/Lat coordinates are stored in self.lon and self.lat in degrees</p>
<dl class="simple">
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.pressure2xy">
<span class="sig-name descname"><span class="pre">pressure2xy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.pressure2xy" title="Link to this definition">¶</a></dt>
<dd><p>Transpose the initial pressure source position in lat/lon into the UTM reference.
UTM coordinates are stored in self.xf and self.yf in km</p>
<dl class="simple">
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.readPressureFromFile">
<span class="sig-name descname"><span class="pre">readPressureFromFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputCoordinates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lonlat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">donotreadvolume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.readPressureFromFile" title="Link to this definition">¶</a></dt>
<dd><p>Read the pressure source parameters from a GMT formatted file.
Args:</p>
<blockquote>
<div><ul class="simple">
<li><p>filename  : Name of the file.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.saveData">
<span class="sig-name descname"><span class="pre">saveData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.saveData" title="Link to this definition">¶</a></dt>
<dd><p>Saves the Data in binary files.</p>
<dl class="simple">
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>dtype<span class="classifier">Format of the binary data saved</span></dt><dd><p>‘d’ for double
‘f’ for np.float32</p>
</dd>
</dl>
</li>
<li><p>outputDir   : Directory to save binary data</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.saveGFs">
<span class="sig-name descname"><span class="pre">saveGFs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'pressure':</span> <span class="pre">'dP',</span> <span class="pre">'pressureDVx':</span> <span class="pre">'dVx',</span> <span class="pre">'pressureDVy':</span> <span class="pre">'dVy',</span> <span class="pre">'pressureDVz':</span> <span class="pre">'dVz'}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.saveGFs" title="Link to this definition">¶</a></dt>
<dd><p>Saves the Green’s functions in different files.</p>
<dl class="simple">
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>dtype<span class="classifier">Format of the binary data saved</span></dt><dd><p>‘d’ for double
‘f’ for np.float32</p>
</dd>
</dl>
</li>
<li><p>outputDir   : Directory to save binary data.</p></li>
<li><p>suffix      : suffix for GFs name (dictionary)</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.setGFs">
<span class="sig-name descname"><span class="pre">setGFs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltapressure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GDVx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GDVy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GDVz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synthetic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.setGFs" title="Link to this definition">¶</a></dt>
<dd><p>Stores the input Green’s functions matrices into the pressure source structure.</p>
<p>These GFs are organized in a dictionary structure in self.G
Entries of self.G are the data set names (data.name).</p>
<blockquote>
<div><p>Entries of self.G[data.name] are ‘deltapressure’.</p>
</div></blockquote>
<p>If you provide GPS GFs, those are organised with E, N and U in lines</p>
<p>If you provide Optical GFs, those are organised with E and N in lines</p>
<p>If you provide InSAR GFs, these need to be projected onto the
LOS direction already.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>data          : Data structure</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>deltapressure<span class="classifier">List of matrices of the pressure source</span></dt><dd><p>Green’s functions</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.setGFsFromFile">
<span class="sig-name descname"><span class="pre">setGFsFromFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pressure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DVx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DVy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DVz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'d'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.setGFsFromFile" title="Link to this definition">¶</a></dt>
<dd><p>Sets the Green’s functions reading binary files. Be carefull, these have to be in the
good format (i.e. if it is GPS, then GF are E, then N, then U, optional, and
if insar, GF are projected already). Basically, it will work better if
you have computed the GFs using csi…</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>data          : Data object</p></li>
</ul>
</dd>
<dt>kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>pressure<span class="classifier">File containing the Green’s functions for</span></dt><dd><p>pressure source related displacements.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>vertical<span class="classifier">Deal with the UP component (gps: default is false,</span></dt><dd><p>insar: it will be true anyway).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>dtype<span class="classifier">Type of binary data.</span></dt><dd><p>‘d’ for double/float64
‘f’ for np.float32</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.surfacesimulation">
<span class="sig-name descname"><span class="pre">surfacesimulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simulation'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.surfacesimulation" title="Link to this definition">¶</a></dt>
<dd><p>Takes the source caracteristics and computes the surface displacement that corresponds on a regular grid 
for a given volume change.</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>volume    : Volume change</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><p>box       : Can be a list of [minlon, maxlon, minlat, maxlat, n].</p></li>
<li><p>disk      : list of [xcenter, ycenter, radius, n]</p></li>
<li><p>err       :</p></li>
<li><p>lonlat    : Arrays of lat and lon. [lon, lat]</p></li>
<li><p>verbose   : Default is True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.trace">
<span class="sig-name descname"><span class="pre">trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.trace" title="Link to this definition">¶</a></dt>
<dd><p>Set the initial pressure source position from Lat/Lon or UTM coordinates
Surface initial pressure source position is stored in self.xf, self.yf (UTM) and
self.lon, self.lat (Lon/lat)</p>
<dl class="simple">
<dt>Args:</dt><dd><ul class="simple">
<li><p>Lon           : Array/List containing the Lon points.</p></li>
<li><p>Lat           : Array/List containing the Lat points.</p></li>
</ul>
</dd>
<dt>Kwargs:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>utm<span class="classifier">If False, considers x and y are lon/lat</span></dt><dd><p>If True, considers x and y are utm in km</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="csi.Pressure.writePressure2File">
<span class="sig-name descname"><span class="pre">writePressure2File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_volume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdh5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#csi.Pressure.writePressure2File" title="Link to this definition">¶</a></dt>
<dd><p>Writes the pressure parameters in a file. Trying to make this as generic as possible.
Args:</p>
<blockquote>
<div><ul class="simple">
<li><p>filename      : Name of the file.</p></li>
<li><p>add_volume  : Put the volume as a value for the color. Can be None or volume for pCDM.</p></li>
<li><p>scale         : Multiply the volume change by a factor.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">CSI</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basictutorials.html">Basic Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CSIpublications.html">CSI Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classes.html">Classes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Romain Jolivet.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/classes/pressure.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>